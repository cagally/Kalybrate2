{
  "task_id": "skill-development_medium_2",
  "prompt": "I have a skill that keeps loading too much content into context and hitting limits. The skill handles database queries and has lots of schema documentation. How can I fix this?",
  "difficulty": "medium",
  "model": "claude-3-5-haiku-20241022",
  "response": "Based on the skill development best practices, here's how to optimize a database query skill to reduce context loading:\n\n1. Progressive Disclosure Strategy\nInstead of loading all schema documentation into the SKILL.md, move detailed content to references and use strategic loading:\n\n```\ndatabase-query-skill/\n\u251c\u2500\u2500 SKILL.md  (lean, core instructions)\n\u2514\u2500\u2500 references/\n    \u251c\u2500\u2500 schema.md  (detailed schema documentation)\n    \u251c\u2500\u2500 query-patterns.md  (advanced query techniques)\n    \u2514\u2500\u2500 optimization-guide.md  (performance tips)\n```\n\n2. Recommended SKILL.md Structure\nFocus on core workflow, key concepts, and pointers to references:\n\n```markdown\n---\nname: Database Query Skill\ndescription: This skill should be used when the user asks to \"run a database query\", \"analyze database schema\", \"find database records\", or needs help with SQL-based data retrieval.\nversion: 0.1.0\n---\n\n# Database Query Skill\n\n## Core Concepts\n\nProvide high-level guidance about database querying without deep technical details.\n\n## Basic Query Workflow\n\nOutline the general process of running queries, with minimal implementation details.\n\n## Additional Resources\n\n### Reference Documentation\nFor detailed information, consult:\n- **`references/schema.md`** - Comprehensive database schema documentation\n- **`references/query-patterns.md`** - Advanced querying techniques\n- **`references/optimization-guide.md`** - Performance optimization strategies\n\n### Example Queries\nWorking example queries are available in `examples/` directory.\n```\n\n3. Optimize references/schema.md\nWhen creating the schema reference, use strategies to make it more context-efficient:\n\n```markdown\n# Database Schema Reference\n\n## Quick Reference Tables\n\n### Core Tables (Minimal Context)\n| Table Name | Primary Purpose | Key Columns |\n|-----------|----------------|-------------|\n| users     | User management| id, username, email |\n| orders    | Order tracking | id, user_id, total |\n\n## Detailed Schema \n(Use grep-friendly sections for targeted loading)\n\n### Users Table Schema\n<!-- Detailed schema can be extensive -->\n\n### Indexing Strategies\n<!-- Performance recommendations -->\n```\n\n4. Add a Grep Search Script\nCreate a script to help Claude efficiently search large reference files:\n\n`scripts/search-schema.sh`:\n```bash\n#!/bin/bash\n\n# Usage: ./search-schema.sh <search_term>\ngrep -n \"$1\" references/schema.md\n```\n\n5. Update SKILL.md to Reference Search Script\n```markdown\n## Schema Search Utility\n\nTo quickly find information in the schema:\n1. Use the `search-schema.sh` script\n2. Provide a search term to locate relevant documentation\n\nExample:\n```bash\n./scripts/search-schema.sh \"user_id\"\n```\n```\n\n6. Recommendations for Claude\n\nWhen using this skill, Claude should:\n- Load only core SKILL.md content initially\n- Reference detailed schemas only when specifically needed\n- Use the search script to find targeted information\n- Avoid loading entire schema at once\n\n7. Performance Benefits\n- Reduces initial context loading\n- Allows targeted, on-demand access to detailed documentation\n- Keeps core skill instructions lean and focused\n- Provides flexible, efficient documentation access\n\n## Implementation Checklist\n\n- [ ] Move detailed schema to `references/schema.md`\n- [ ] Keep SKILL.md under 2,000 words\n- [ ] Create search utility script\n- [ ] Add clear references to additional documentation\n- [ ] Test skill with various query scenarios\n\nBy implementing progressive disclosure and targeted loading, you'll create a more efficient skill that doesn't overwhelm the context window while still providing comprehensive database query guidance.\n\nWould you like me to help you restructure your specific database query skill using these principles?",
  "criteria_results": {
    "response_exists": true,
    "response_relevant": true
  },
  "passed": true,
  "tokens": {
    "input": 5618,
    "output": 861,
    "total": 6479
  },
  "execution_time": 20.37135410308838,
  "error": null,
  "timestamp": "2026-01-01T08:48:35.046476"
}