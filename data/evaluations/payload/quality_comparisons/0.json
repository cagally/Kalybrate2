{
  "prompt": "Create a Payload CMS collection for a recipe website with ingredients, cooking time, difficulty level, and user ratings",
  "baseline_response": "Here's a comprehensive Payload CMS collection setup for a recipe website:\n\n```javascript\nconst Recipes = {\n  slug: 'recipes',\n  admin: {\n    defaultColumns: ['title', 'cuisine', 'cookingTime', 'difficulty'],\n    useAsTitle: 'title',\n  },\n  access: {\n    read: () => true, // Public read access\n  },\n  fields: [\n    {\n      name: 'title',\n      type: 'text',\n      required: true,\n      label: 'Recipe Title',\n    },\n    {\n      name: 'description',\n      type: 'textarea',\n      label: 'Recipe Description',\n    },\n    {\n      name: 'cuisine',\n      type: 'select',\n      options: [\n        { label: 'Italian', value: 'italian' },\n        { label: 'Mexican', value: 'mexican' },\n        { label: 'Chinese', value: 'chinese' },\n        { label: 'Indian', value: 'indian' },\n        { label: 'American', value: 'american' },\n        { label: 'Mediterranean', value: 'mediterranean' },\n      ],\n      label: 'Cuisine Type',\n    },\n    {\n      name: 'ingredients',\n      type: 'array',\n      label: 'Ingredients',\n      fields: [\n        {\n          name: 'item',\n          type: 'text',\n          required: true,\n          label: 'Ingredient',\n        },\n        {\n          name: 'quantity',\n          type: 'text',\n          label: 'Quantity',\n        },\n        {\n          name: 'unit',\n          type: 'select',\n          options: [\n            { label: 'cup', value: 'cup' },\n            { label: 'tablespoon', value: 'tbsp' },\n            { label: 'teaspoon', value: 'tsp' },\n            { label: 'gram', value: 'g' },\n            { label: 'pound', value: 'lb' },\n            { label: 'piece', value: 'piece' },\n          ],\n        },\n      ],\n    },\n    {\n      name: 'instructions',\n      type: 'array',\n      label: 'Cooking Instructions',\n      fields: [\n        {\n          name: 'step',\n          type: 'textarea',\n          required: true,\n          label: 'Step Description',\n        },\n      ],\n    },\n    {\n      name: 'cookingTime',\n      type: 'group',\n      label: 'Cooking Time',\n      fields: [\n        {\n          name: 'prepTime',\n          type: 'number',\n          label: 'Preparation Time (minutes)',\n        },\n        {\n          name: 'cookTime',\n          type: 'number',\n          label: 'Cooking Time (minutes)',\n        },\n        {\n          name: 'totalTime',\n          type: 'number',\n          label: 'Total Time (minutes)',\n          admin: {\n            hidden: true,\n          },\n          hooks: {\n            beforeValidate: [\n              ({ data }) => {\n                if (data.prepTime && data.cookTime) {\n                  data.totalTime = data.prepTime + data.cookTime;\n                }\n                return data;\n              },\n            ],\n          },\n        },\n      ],\n    },\n    {\n      name: 'difficulty',\n      type: 'select',\n      label: 'Difficulty Level',\n      options: [\n        { label: 'Beginner', value: 'beginner' },\n        { label: 'Intermediate', value: 'intermediate' },\n        { label: 'Advanced', value: 'advanced' },\n      ],\n    },\n    {\n      name: 'servings',\n      type: 'number',\n      label: 'Number of Servings',\n    },\n    {\n      name: 'dietaryInfo',\n      type: 'select',\n      label: 'Dietary Information',\n      hasMany: true,\n      options: [\n        { label: 'Vegetarian', value: 'vegetarian' },\n        { label: 'Vegan', value: 'vegan' },\n        { label: 'Gluten-Free', value: 'gluten-free' },\n        { label: 'Dairy-Free', value: 'dairy-free' },\n      ],\n    },\n    {\n      name: 'mainImage',\n      type: 'upload',\n      label: 'Recipe Image',\n      relationTo: 'media',\n    },\n    {\n      name: 'ratings',\n      type: 'group',\n      label: 'Ratings',\n      fields: [\n        {\n          name: 'averageRating',\n          type: 'number',\n          label: 'Average Rating',\n          min: 0,\n          max: 5,\n          admin: {\n            step: 0.1,\n          },\n        },\n        {\n          name: 'totalRatings',\n          type: 'number',\n          label: 'Total Number of Ratings',\n        },\n      ],\n    },\n    {\n      name: 'author',\n      type: 'relationship',\n      label: 'Recipe Author',\n      relationTo: 'users',\n    },\n  ],\n};\n\nmodule.exports = Recipes;\n```\n\nThis Payload CMS collection for recipes includes:\n\n1. Basic recipe details (title, description, cuisine)\n2. Detailed ingredients list\n3. Cooking instructions\n4. Cooking time with automatic total time calculation\n5. Difficulty level\n6. Servings\n7. Dietary information\n8. Recipe image\n9. Ratings system\n10. Author relationship\n\nKey features:\n- Flexible ingredients and instructions arrays\n- Automatic total cooking time calculation\n- Multiple dietary and cuisine options\n- Image upload\n- Relationship to users collection for recipe authorship\n\nYou would typically pair this with a Media collection for image uploads and a Users collection for author information.\n\nTo use this, add it to your Payload CMS configuration, and you'll have a comprehensive recipe collection ready to use.",
  "baseline_tokens": {
    "input": 30,
    "output": 1516,
    "total": 1546
  },
  "skill_response": "I'll create a comprehensive Payload CMS collection for recipes with advanced features and best practices. Here's a detailed implementation:\n\n```typescript\nimport { CollectionConfig } from 'payload/types'\nimport { slugify } from '../utils/slugify' // Assume you have a slugify utility\n\n// Enum for difficulty levels\nconst DifficultyLevels = {\n  options: [\n    { label: 'Easy', value: 'easy' },\n    { label: 'Medium', value: 'medium' },\n    { label: 'Hard', value: 'hard' },\n    { label: 'Expert', value: 'expert' }\n  ]\n}\n\nexport const Recipes: CollectionConfig = {\n  slug: 'recipes',\n  admin: {\n    useAsTitle: 'title',\n    defaultColumns: ['title', 'author', 'difficulty', 'cookingTime', 'averageRating'],\n    preview: (doc) => `/recipes/${doc.slug}`, // Optional: link to frontend preview\n  },\n  access: {\n    // Basic access controls\n    read: () => true, // Public read access\n    create: ({ req }) => Boolean(req.user), // Only authenticated users can create\n    update: ({ req, doc }) => {\n      // Users can only update their own recipes or admins can update any\n      return req.user?.roles?.includes('admin') || \n             req.user?.id === doc.author\n    },\n    delete: ({ req, doc }) => {\n      // Only admins or recipe author can delete\n      return req.user?.roles?.includes('admin') || \n             req.user?.id === doc.author\n    }\n  },\n  fields: [\n    // Basic Recipe Information\n    {\n      name: 'title',\n      type: 'text',\n      required: true,\n      validate: (value) => {\n        // Minimum title length\n        if (value.length < 3) {\n          return 'Title must be at least 3 characters long'\n        }\n        return true\n      }\n    },\n    {\n      name: 'slug',\n      type: 'text',\n      unique: true,\n      index: true,\n      hooks: {\n        beforeValidate: [\n          ({ data, operation }) => {\n            // Auto-generate slug if not provided\n            if (operation === 'create' && (!data.slug || data.slug === '')) {\n              data.slug = slugify(data.title)\n            }\n            return data\n          }\n        ]\n      },\n      admin: {\n        position: 'sidebar',\n        description: 'Auto-generated URL-friendly version of the title'\n      }\n    },\n    {\n      name: 'description',\n      type: 'textarea',\n      required: true\n    },\n    {\n      name: 'mainImage',\n      type: 'upload',\n      relationTo: 'media',\n      required: true\n    },\n    // Cooking Details\n    {\n      name: 'difficulty',\n      type: 'select',\n      ...DifficultyLevels,\n      required: true\n    },\n    {\n      name: 'cookingTime',\n      type: 'group',\n      fields: [\n        {\n          name: 'prep',\n          type: 'number',\n          label: 'Prep Time (minutes)',\n          min: 0\n        },\n        {\n          name: 'cook',\n          type: 'number',\n          label: 'Cook Time (minutes)',\n          min: 0\n        },\n        {\n          name: 'total',\n          type: 'number',\n          label: 'Total Time (minutes)',\n          admin: {\n            description: 'Automatically calculated',\n            disabled: true\n          },\n          hooks: {\n            beforeValidate: [({ data }) => {\n              // Auto-calculate total time\n              return (data.cookingTime?.prep || 0) + (data.cookingTime?.cook || 0)\n            }]\n          }\n        }\n      ]\n    },\n    // Ingredients with Measurement\n    {\n      name: 'ingredients',\n      type: 'array',\n      fields: [\n        {\n          name: 'item',\n          type: 'text',\n          required: true\n        },\n        {\n          name: 'amount',\n          type: 'number',\n          required: true\n        },\n        {\n          name: 'unit',\n          type: 'select',\n          options: [\n            'cup', 'tablespoon', 'teaspoon', 'gram', 'kg', 'ml', 'liter',\n            'piece', 'slice', 'pinch'\n          ]\n        }\n      ]\n    },\n    // Cooking Steps\n    {\n      name: 'steps',\n      type: 'array',\n      fields: [\n        {\n          name: 'instruction',\n          type: 'textarea',\n          required: true\n        },\n        {\n          name: 'image',\n          type: 'upload',\n          relationTo: 'media',\n          required: false\n        }\n      ]\n    },\n    // Ratings and Reviews\n    {\n      name: 'ratings',\n      type: 'array',\n      fields: [\n        {\n          name: 'user',\n          type: 'relationship',\n          relationTo: 'users',\n          required: true\n        },\n        {\n          name: 'rating',\n          type: 'number',\n          min: 1,\n          max: 5,\n          required: true\n        },\n        {\n          name: 'review',\n          type: 'textarea'\n        }\n      ]\n    },\n    // Computed Average Rating\n    {\n      name: 'averageRating',\n      type: 'number',\n      admin: {\n        disabled: true,\n        description: 'Automatically calculated from ratings'\n      },\n      hooks: {\n        afterRead: [({ doc }) => {\n          if (!doc.ratings || doc.ratings.length === 0) return 0\n          const avgRating = doc.ratings.reduce((sum, rating) => sum + rating.rating, 0) / doc.ratings.length\n          return Number(avgRating.toFixed(1))\n        }]\n      }\n    },\n    // Author/Creator\n    {\n      name: 'author',\n      type: 'relationship',\n      relationTo: 'users',\n      required: true,\n      hooks: {\n        beforeChange: [\n          ({ req, operation, data }) => {\n            // Automatically set author to current user when creating\n            if (operation === 'create') {\n              data.author = req.user.id\n            }\n            return data\n          }\n        ]\n      }\n    },\n    // Additional Metadata\n    {\n      name: 'category',\n      type: 'select',\n      options: [\n        'Breakfast', 'Lunch', 'Dinner', 'Dessert', \n        'Appetizer', 'Snack', 'Beverage'\n      ]\n    }\n  ],\n  timestamps: true // Adds createdAt and updatedAt fields\n}\n```\n\nKey Features:\n1. Comprehensive recipe fields\n2. Automatic slug generation\n3. Difficulty levels\n4. Ingredients array\n5. Cooking steps\n6. User ratings and reviews\n7. Computed average rating\n8. Access control\n9. Image uploads\n10. Time tracking\n11. Validation hooks\n\nRecommended Companion Files:\n1. `src/utils/slugify.ts`:\n```typescript\nexport function slugify(text: string): string {\n  return text\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n}\n```\n\nPotential Enhancements:\n- Add dietary tags (vegetarian, vegan, gluten-free)\n- Nutritional information\n- Serving size\n- Equipment needed\n- Video tutorial upload\n\nWould you like me to elaborate on any part of the collection or discuss how to integrate it with other collections?",
  "skill_tokens": {
    "input": 4241,
    "output": 1984,
    "total": 6225
  },
  "judge_verdict": "with_skill",
  "judge_reasoning": "Response B is more comprehensive and professional, providing TypeScript types, advanced access controls, validation logic, hooks for auto-generating slugs, and better code organization. While Response A covers the basic requirements, Response B demonstrates deeper understanding of Payload CMS best practices with features like preview links, proper authentication handling, and more robust field validation. Response B is more production-ready and useful for a real recipe website implementation.",
  "judge_model": "claude-sonnet-4-20250514",
  "timestamp": "2026-01-01T19:13:46.500970"
}