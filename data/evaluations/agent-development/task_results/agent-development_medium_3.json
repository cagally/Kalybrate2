{
  "task_id": "agent-development_medium_3",
  "prompt": "I have three agents in my plugin but they're not organized well. How should I structure my agent files and what naming conventions should I follow?",
  "difficulty": "medium",
  "model": "claude-3-5-haiku-20241022",
  "response": "I'll help you organize your agents following the best practices from the Agent Development skill. I'll provide a recommended structure and explain the key principles.\n\n### Recommended Plugin Structure\n\n```\nyour-plugin/\n\u2502\n\u251c\u2500\u2500 agents/\n\u2502   \u251c\u2500\u2500 code-reviewer.md\n\u2502   \u251c\u2500\u2500 test-generator.md\n\u2502   \u2514\u2500\u2500 documentation-writer.md\n\u2502\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 plugin.json\n\u2514\u2500\u2500 requirements.txt\n```\n\n### Agent Naming Conventions\n\nHere are the key rules for agent file names:\n\n1. **Identifier Rules:**\n   - Use lowercase letters\n   - Allow numbers\n   - Use hyphens for separation\n   - 3-50 characters long\n   - Start and end with alphanumeric character\n\n**Good Examples:**\n- `code-reviewer.md`\n- `test-generator.md`\n- `api-documentation-writer.md`\n- `security-analyzer-v2.md`\n\n**Bad Examples:**\n- `CodeReviewer.md` (uses uppercase)\n- `_helper.md` (starts with underscore)\n- `a.md` (too short)\n- `my_agent.md` (uses underscore)\n\n### Agent File Template\n\nHere's a template for each agent file to ensure consistency:\n\n```markdown\n---\nname: code-reviewer  # matches filename without .md\ndescription: Use this agent when code needs comprehensive review. Examples:\n\n<example>\nContext: Reviewing a Python function for best practices\nuser: \"Can you review this code for potential improvements?\"\nassistant: \"I'll analyze the code for style, performance, and potential bugs.\"\n<commentary>\nTriggered when user seeks a detailed code quality assessment\n</commentary>\n</example>\n\nmodel: inherit\ncolor: blue\ntools: [\"Read\", \"Grep\"]\n---\n\nYou are a meticulous code reviewer specializing in [specific language/domain].\n\n**Core Responsibilities:**\n1. Analyze code for quality and potential issues\n2. Provide constructive feedback\n3. Suggest improvements and best practices\n\n**Review Process:**\n1. Examine code structure\n2. Check for potential bugs\n3. Assess performance implications\n4. Validate against coding standards\n\n**Output Format:**\n- Comprehensive code review\n- Specific improvement suggestions\n- Severity and priority of each issue\n```\n\n### Practical Example Implementation\n\nHere's a Python script to help you organize and create these agent files:\n\n```python\nimport os\nimport yaml\n\ndef create_agent_file(plugin_dir, agent_name, description, model='inherit', color='blue', tools=None):\n    # Ensure agents directory exists\n    agents_dir = os.path.join(plugin_dir, 'agents')\n    os.makedirs(agents_dir, exist_ok=True)\n    \n    # Prepare agent filename (lowercase, hyphenated)\n    filename = f\"{agent_name.lower().replace(' ', '-')}.md\"\n    filepath = os.path.join(agents_dir, filename)\n    \n    # Default tools if not specified\n    if tools is None:\n        tools = [\"Read\", \"Grep\"]\n    \n    # Frontmatter template\n    frontmatter = {\n        'name': agent_name.lower().replace(' ', '-'),\n        'description': description,\n        'model': model,\n        'color': color,\n        'tools': tools\n    }\n    \n    # System prompt template (customize as needed)\n    system_prompt = f\"\"\"\nYou are a {agent_name} specializing in your domain.\n\n**Core Responsibilities:**\n1. Primary task description\n2. Secondary task description\n\n**Process:**\n1. First step\n2. Second step\n\n**Output Format:**\n- Detailed and structured output\n- Clear explanations\n\"\"\"\n    \n    # Combine frontmatter and system prompt\n    full_content = \"---\\n\"\n    full_content += yaml.dump(frontmatter, default_flow_style=False)\n    full_content += \"---\\n\"\n    full_content += system_prompt\n    \n    # Write file\n    with open(filepath, 'w') as f:\n        f.write(full_content)\n    \n    print(f\"Created agent file: {filepath}\")\n\n# Example usage\ndef main():\n    # Assume current directory is the plugin root\n    plugin_dir = os.getcwd()\n    \n    # Create multiple agents\n    create_agent_file(\n        plugin_dir, \n        'code-reviewer', \n        \"Use this agent when code needs comprehensive review. Examples: ...\",\n        color='blue'\n    )\n    \n    create_agent_file(\n        plugin_dir, \n        'test-generator', \n        \"Use this agent when comprehensive test cases are required. Examples: ...\",\n        color='green'\n    )\n    \n    create_agent_file(\n        plugin_dir, \n        'documentation-writer', \n        \"Use this agent when technical documentation needs to be generated. Examples: ...\",\n        color='yellow'\n    )\n\nif __name__ == '__main__':\n    main()\n```\n\n### Key Takeaways\n\n1. **Consistent Naming**: Use lowercase, hyphen-separated names\n2. **Organized Directory**: Keep agents in `agents/` subdirectory\n3. **Comprehensive Frontmatter**: Include description, model, color, tools\n4. **Clear System Prompt**: Define responsibilities and process\n5. **Distinct Colors**: Use different colors for visual distinction\n\n### Next Steps\n\n1. Run the script to generate your agent files\n2. Customize the system prompts for each agent\n3. Add detailed examples in the description\n4. Validate the files using `validate-agent.sh` if available\n\nWould you like me to help you refine the specifics of your agents based on their intended purposes?",
  "criteria_results": {
    "response_exists": true
  },
  "verification_notes": {
    "response_exists": "verified"
  },
  "verification_level": "full",
  "verified_criteria": {
    "passed": 1,
    "total": 1
  },
  "passed": true,
  "tokens": {
    "input": 2890,
    "output": 1347,
    "total": 4237
  },
  "execution_time": 23.557451009750366,
  "error": null,
  "timestamp": "2026-01-01T17:42:23.405541"
}